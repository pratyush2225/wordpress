/*
 Themify Builder - Asynchronous Script and Styles Loader */
'use strict';(function(b,g,c){let k;const B=function(){k.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"tb_load_editor"},success:function(d){var a=c.createElement("div");const l={},m={},p=c.createDocumentFragment();c.createDocumentFragment();const z=b.body[0],r=function(){l[this.src]=!0;k.ui&&k.fn.mouse&&k.fn.sortable&&b.trigger("tb_load_iframe");for(var h in m)if(!0!==l[h])return!1;h=c.createDocumentFragment();for(let c=0,b=q.length;c<b;++c)h.appendChild(q[c]);z.appendChild(h);g.tinymce&&
tinyMCE&&(h=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css.split(","),tinyMCEPreInit.mceInit.tb_lb_hidden_editor.wp_autoresize_on=!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css=h[1]?h[1]:h[0],tinyMCEPreInit.mceInit.tb_lb_hidden_editor.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.indent="simple",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.ie7_compat=
!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.root_name="div",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.relative_urls=!0,tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor"),k("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools").remove())};a.innerHTML=d;d=a.querySelector("#tb_tinymce_wrap").children;const q=[];for(let b=0,g=d.length;b<g;++b)if("SCRIPT"!==d[0].tagName||d[0].getAttribute("type")&&"text/javascript"!==d[0].getAttribute("type"))p.appendChild(d[0]);
else{a=c.createElement("script");for(let c=d[0].attributes,b=c.length-1;-1<b;--b)a.setAttribute(c[b].name,c[b].value);var e=d[0].getAttribute("src");e?void 0===m[e]&&null===c.querySelector('script[src="'+e+'"]')&&(a.async=!1,m[e]=!0,a.addEventListener("load",r,{once:!0,passive:!0}),a.addEventListener("error",r,{once:!0,passive:!0}),p.appendChild(a)):(e=d[0].innerHTML,a.innerHTML=e,-1===e.indexOf("tinyMCEPreInit.")&&-1===e.indexOf(".addI18n")&&-1===e.indexOf(".i18n")&&-1===e.indexOf("wp.editor")?p.appendChild(a):
q.push(a));d[0].remove()}try{z.appendChild(p)}catch(h){}}})},v=function(){let d;k=jQuery;if(!g.wp||!wp.customize){var a=c.getElementsByClassName("themify_builder_content");let b=c.getElementsByClassName("toggle_tb_builder")[0],g=!1;d=b?b.getElementsByClassName("tb_front_icon")[0].getAttribute("data-id"):!1;for(let b=a.length-1;-1<b;--b){var l=a[b].getAttribute("data-postid");let k=c.createElement("a"),e=c.createElement("span");l===d&&(g=!0);k.href="javascript:void(0);";k.className="tb_turn_on js-turn-on-builder";
e.className="dashicons dashicons-edit";e.setAttribute("data-id",l);k.appendChild(e);l=a[b].parentNode.classList;k.appendChild(c.createTextNode(l.contains("tbp_template")?tbLoaderVars.editTemplate:l.contains("tb_layout_part_wrap")?tbLoaderVars.turnOnLpBuilder:tbLoaderVars.turnOnBuilder));a[b].insertAdjacentElement(l.contains("tb_layout_part_wrap")||l.contains("tbp_template")?"beforeBegin":"afterEnd",k)}b||(b=c.getElementsByClassName("js-turn-on-builder")[0])||(d=c.getElementsByClassName("dashicons-edit")[0].getAttribute("data-id"));
!1===g?(d=null,b.classList.add("tb_disabled_turn_on")):b.classList.remove("tb_disabled_turn_on")}let m=0<g.location.href.indexOf("?")?"&":"?";m=g.location.href.replace(g.location.hash,"").replace("#","")+m+"tb-preview=1&ver="+g.themify_vars.version;b.body.on("click.tb_loading",".toggle_tb_builder:not(.tb_disabled_turn_on) > a, a.js-turn-on-builder",function(a){a.preventDefault();a.stopPropagation();const l=this.classList.contains("tb_restriction");b.LoadAsync(tbLocalScript.builder_url+"/js/editor/themify-ticks.js",
function(){l&&(TB_Ticks.init(tbLocalScript.ticks).show(),init())},null,null,function(){return!!g.TB_Ticks});b.body.off("click.tb_loading");if(!l){var r=this.classList.contains("js-turn-on-builder")?this.childNodes[0].getAttribute("data-id"):d;if(r&&!this.parentNode.classList.contains("tb_disabled_turn_on")){b.lazyDisable=b.lazyScrolling=!0;null!==b.observer&&b.observer.disconnect();var q=[],e=k(c).scrollTop(),h=b.convert(c.head.getElementsByTagName("link")).concat(b.convert(c.head.getElementsByTagName("style"))),
p=b.body.children(),w=c.createElement("div"),t=c.createElement("div"),x=c.createElement("div"),y=c.createElement("div"),v=c.createElement("div"),n=c.createElement("iframe");w.className="tb_workspace_container";t.className="tb_vertical_bars";x.id="tb_left_bar";y.id="tb_right_bar";x.className=y.className="tb_middle_bar";v.className="tb_vertical_change_tooltip";n.className="tb_iframe";n.id=n.name="tb_iframe";n.scrolling=b.isTouch?"no":"yes";n.src=m+"&tb-id="+r;b.off("builder_load_module_partial");k(c).off("ajaxComplete");
if(null!==tbLoaderVars.styles)for(var f in tbLoaderVars.styles)""!==tbLoaderVars.styles[f]&&(b.LoadCss(f,tbLoaderVars.styles[f]),q[f+"?ver="+tbLoaderVars.styles[f]]=1);var u=c.createElement("div");a=c.createElement("div");f=c.createElement("div");var A=c.getElementsByClassName("tb_front_icon")[0];u.id="tb_alert";u.className="tb_busy";a.id="tb_fixed_bottom_scroll";a.className="tb_fixed_scroll";f.id="builder_progress";f.appendChild(c.createElement("div"));c.body.insertAdjacentElement("afterbegin",a);
c.body.appendChild(u);A&&A.parentNode.appendChild(f);b.on("tb_load_iframe",function(){t.appendChild(x);t.appendChild(n);t.appendChild(y);t.appendChild(v);w.appendChild(t);n.addEventListener("load",function(){const a=this,d=a.contentWindow;let l;b.body.one("themify_builder_ready",function(a){k(u).fadeOut(100,function(){this.classList.remove("tb_busy")});a=b.body[0].classList.contains("archive");let f="themify_builder_active builder-breakpoint-desktop page-loaded";b.isTouch&&(f+=" tb_touch");a&&(f+=
" archive");"1"===tbLoaderVars.isGlobalStylePost&&(f+=" gs_post");b.body[0].className=f;b.body[0].removeAttribute("style");w.style.display="block";a=d.tb_app.Instances.Builder[0].$el.offset().top;a>e&&(e=a);d.scrollTo(0,e);b.iframe=n;b.is_builder_active=!0;setTimeout(function(){p.hide();for(var a=h.length-1;-1<a;--a)if(h[a]&&h[a].parentNode){var e=h[a].href,f=h[a].id;e?q[e]||-1!==e.indexOf("wp-includes")||-1!==e.indexOf("admin-bar")||(h[a].setAttribute("disabled",!0),h[a].parentNode.removeChild(h[a])):
"tf_fonts_style"!==f&&"tf_lazy_common"!==f&&h[a].parentNode.removeChild(h[a])}h=q=tbLoaderVars=u=null;k(".themify_builder_content,#wpadminbar,header").remove();p.filter("ul,a,video,audio").filter(":not(:has(link))").remove();a="scroll tfsmartresize debouncedresize throttledresize resize mouseenter keydown keyup mousedown assignVideo".split(" ");e=k(g);f=k(c);for(let c=a.length-1;-1<c;--c)e.off(a[c]),f.off(a[c]),b.body.off(a[c]);c.documentElement.removeAttribute("style");c.documentElement.removeAttribute("class");
const m=d.tbLocalScript.ticks;m.postID=r;l.hasClass("tb_restriction")?setTimeout(function(){c.body.appendChild(l.find("#tmpl-builder-restriction")[0]);TB_Ticks.init(m,d).show()},1E3):setTimeout(function(){TB_Ticks.init(m,d).ticks()},5E3);setTimeout(function(){const a="ThemifyBuilderModuleJs c _wpemojiSettings twemoji themifyScript tbLocalScript tbScrollHighlight google ThemifyGallery Animation $f Froogaloop SliderProSlide SliderProUtils ThemifySlider FixedHeader LayoutAndFilter WOW Waypoint $slidernav google Microsoft Rellax module$contents$MapsEvent_MapsEvent module$contents$mapsapi$overlay$OverlayView_OverlayView wc_add_to_cart_params woocommerce_params wc_cart_fragments_params wc_single_product_params tf_mobile_menu_trigger_point themifyMobileMenuTrigger".split(" ");
for(let b=a.length-1;-1<b;--b)g[a[b]]&&(g[a[b]]=null);b.events={};g.wp.emoji=null;g.ajaxurl=themify_vars.ajax_url;b.cssLazy=[];for(let a=d.document.querySelectorAll("[data-lazy]"),b=a.length-1;-1<b;--b)a[b].removeAttribute("data-lazy")},3E3)},800)});const f=function(){d.themifyBuilder.post_ID=r;l=d.jQuery("body");l.trigger("builderiframeloaded.themify",a)};if("__rocketLoaderLoadProgressSimulator"in d){const a=setInterval(function(){"complete"===d.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&
(clearInterval(a),f())},10)}else f()},{once:!0,passive:!0});c.body.appendChild(w)},!0);B()}}});b.body[0].classList.contains("tb_restriction")||-1!==g.location.href.indexOf("tb-id")||("#builder_active"===g.location.hash?(k(".toggle_tb_builder > a").first().click(),g.location.hash=""):(a=c.createElement("link"),a.href=m+(d?"&tb-id="+d:""),a.rel="prefetch",a.setAttribute("as","document"),c.head.appendChild(a)))};if(!0===g.loaded)v();else b.on("tf_init",v,!0)})(Themify,window,document);
